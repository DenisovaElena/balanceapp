/*C6*/SET SCHEMA PUBLIC
DROP TABLE users IF EXISTS
DROP SEQUENCE global_seq IF EXISTS
CREATE SEQUENCE GLOBAL_SEQ AS INTEGER START WITH 100000
CREATE TABLE users ( id INTEGER GENERATED BY DEFAULT AS SEQUENCE GLOBAL_SEQ PRIMARY KEY, login VARCHAR(255) NOT NULL, password VARCHAR(255) NOT NULL, balance INTEGER DEFAULT 0 NOT NULL )
CREATE UNIQUE INDEX users_unique_email_idx ON USERS (login)
ALTER TABLE users ADD CONSTRAINT users_login_length_c CHECK (char_length(login) >= 2)
ALTER TABLE users ADD CONSTRAINT users_password_length_c CHECK (char_length(password) >= 6)
ALTER SEQUENCE global_seq RESTART WITH 100000
INSERT INTO USERS VALUES(100000,'user1','{noop}user1',100)
INSERT INTO USERS VALUES(100001,'user2','{noop}user2',10)
ALTER SEQUENCE PUBLIC.GLOBAL_SEQ RESTART WITH 100002
COMMIT
DISCONNECT
/*C7*/SET SCHEMA PUBLIC
DELETE FROM USERS WHERE ID=100000
DELETE FROM USERS WHERE ID=100001
COMMIT
ALTER SEQUENCE global_seq RESTART WITH 100000
INSERT INTO USERS VALUES(100000,'user1','{noop}user1',100)
INSERT INTO USERS VALUES(100001,'user2','{noop}user2',10)
ALTER SEQUENCE PUBLIC.GLOBAL_SEQ RESTART WITH 100002
COMMIT
DISCONNECT
/*C8*/SET SCHEMA PUBLIC
INSERT INTO USERS VALUES(100002,'new','{bcrypt}$2a$10$oTIYIjS3jkfFlZU5LQUNRuexONMRLz5etHeY5E0qzoUSl5sV8hazK',0)
ALTER SEQUENCE PUBLIC.GLOBAL_SEQ RESTART WITH 100003
COMMIT
DISCONNECT
/*C9*/SET SCHEMA PUBLIC
DISCONNECT
/*C10*/SET SCHEMA PUBLIC
DELETE FROM USERS WHERE ID=100000
DELETE FROM USERS WHERE ID=100001
DELETE FROM USERS WHERE ID=100002
COMMIT
ALTER SEQUENCE global_seq RESTART WITH 100000
INSERT INTO USERS VALUES(100000,'user1','{noop}user1',100)
INSERT INTO USERS VALUES(100001,'user2','{noop}user2',10)
ALTER SEQUENCE PUBLIC.GLOBAL_SEQ RESTART WITH 100002
COMMIT
DISCONNECT
/*C11*/SET SCHEMA PUBLIC
DELETE FROM USERS WHERE ID=100000
COMMIT
DISCONNECT
/*C12*/SET SCHEMA PUBLIC
DISCONNECT
/*C13*/SET SCHEMA PUBLIC
DELETE FROM USERS WHERE ID=100001
COMMIT
ALTER SEQUENCE global_seq RESTART WITH 100000
INSERT INTO USERS VALUES(100000,'user1','{noop}user1',100)
INSERT INTO USERS VALUES(100001,'user2','{noop}user2',10)
ALTER SEQUENCE PUBLIC.GLOBAL_SEQ RESTART WITH 100002
COMMIT
DISCONNECT
/*C14*/SET SCHEMA PUBLIC
DISCONNECT
/*C15*/SET SCHEMA PUBLIC
DELETE FROM USERS WHERE ID=100000
DELETE FROM USERS WHERE ID=100001
COMMIT
ALTER SEQUENCE global_seq RESTART WITH 100000
INSERT INTO USERS VALUES(100000,'user1','{noop}user1',100)
INSERT INTO USERS VALUES(100001,'user2','{noop}user2',10)
ALTER SEQUENCE PUBLIC.GLOBAL_SEQ RESTART WITH 100002
COMMIT
DISCONNECT
/*C16*/SET SCHEMA PUBLIC
DELETE FROM USERS WHERE ID=100000
INSERT INTO USERS VALUES(100000,'user1','{bcrypt}$2a$10$6nKCNpeydgDeSuhJEZg8w.l8fZ9WVJ2s8IHsX3Wc3Bf.yER7p5Y3a',100)
COMMIT
DISCONNECT
/*C17*/SET SCHEMA PUBLIC
DISCONNECT
/*C18*/SET SCHEMA PUBLIC
DELETE FROM USERS WHERE ID=100000
DELETE FROM USERS WHERE ID=100001
COMMIT
ALTER SEQUENCE global_seq RESTART WITH 100000
INSERT INTO USERS VALUES(100000,'user1','{noop}user1',100)
INSERT INTO USERS VALUES(100001,'user2','{noop}user2',10)
ALTER SEQUENCE PUBLIC.GLOBAL_SEQ RESTART WITH 100002
COMMIT
DISCONNECT
/*C19*/SET SCHEMA PUBLIC
DISCONNECT
/*C20*/SET SCHEMA PUBLIC
DELETE FROM USERS WHERE ID=100000
DELETE FROM USERS WHERE ID=100001
COMMIT
ALTER SEQUENCE global_seq RESTART WITH 100000
INSERT INTO USERS VALUES(100000,'user1','{noop}user1',100)
INSERT INTO USERS VALUES(100001,'user2','{noop}user2',10)
ALTER SEQUENCE PUBLIC.GLOBAL_SEQ RESTART WITH 100002
COMMIT
DISCONNECT
/*C21*/SET SCHEMA PUBLIC
DISCONNECT
/*C22*/SET SCHEMA PUBLIC
DELETE FROM USERS WHERE ID=100000
DELETE FROM USERS WHERE ID=100001
COMMIT
ALTER SEQUENCE global_seq RESTART WITH 100000
INSERT INTO USERS VALUES(100000,'user1','{noop}user1',100)
INSERT INTO USERS VALUES(100001,'user2','{noop}user2',10)
ALTER SEQUENCE PUBLIC.GLOBAL_SEQ RESTART WITH 100002
COMMIT
DISCONNECT
/*C23*/SET SCHEMA PUBLIC
DISCONNECT
/*C24*/SET SCHEMA PUBLIC
DELETE FROM USERS WHERE ID=100000
DELETE FROM USERS WHERE ID=100001
COMMIT
ALTER SEQUENCE global_seq RESTART WITH 100000
INSERT INTO USERS VALUES(100000,'user1','{noop}user1',100)
INSERT INTO USERS VALUES(100001,'user2','{noop}user2',10)
ALTER SEQUENCE PUBLIC.GLOBAL_SEQ RESTART WITH 100002
COMMIT
DISCONNECT
/*C25*/SET SCHEMA PUBLIC
ALTER SEQUENCE PUBLIC.GLOBAL_SEQ RESTART WITH 100003
DISCONNECT
/*C26*/SET SCHEMA PUBLIC
DELETE FROM USERS WHERE ID=100000
DELETE FROM USERS WHERE ID=100001
COMMIT
ALTER SEQUENCE global_seq RESTART WITH 100000
INSERT INTO USERS VALUES(100000,'user1','{noop}user1',100)
INSERT INTO USERS VALUES(100001,'user2','{noop}user2',10)
ALTER SEQUENCE PUBLIC.GLOBAL_SEQ RESTART WITH 100002
COMMIT
DISCONNECT
/*C27*/SET SCHEMA PUBLIC
DISCONNECT
/*C28*/SET SCHEMA PUBLIC
DISCONNECT
